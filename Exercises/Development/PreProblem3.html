<!DOCTYPE html>
<html data-require="math">
  <head>
    <title>Understanding How to Make a DFA Part 3</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.min.js"></script>
    <script src="../../khan-exercises/local-only/main.js" ></script>
  </head>

  <body data-height="675" data-width="950">
  	<script>
		  	var question = "";
		  	var chosenAnswer = 4;
		  	var arrA = [], arrB = [];
		  	
		  	var generateExp = function(){
				var lengths = (Math.random() * 6) + 1;
				for(var i = 0; i < lengths; i++){
					var rand = Math.floor(Math.random() + .5);
					question += rand === 0 ? "a" : "b"; 				
				}
				return question;
		  	}
		  	
		  	var generateDFA = function(){
		  		arrA = [];
		  		arrB = []
		  		var jsav = new JSAV("jsav", {"animationMode": "none"});
				var dfa = new DFA(jsav);
				var textArray = [];

				var state1 = dfa.addState(1, 1, "#ffddff", true, false, 0);
				var state2 = dfa.addState(3, 2, "#ffddff", false, false, 1);
				var state3 = dfa.addState(3, 0, "#ffddff", false, false, 2);
				var state4 = dfa.addState(5, 1, "#ffddff", false, false, 3);
				var stateArr = [state1, state2, state3, state4];
				
				
				state1.addNextState(state[Math.floor(Math.random() * 4)], ["a"]);
				state1.addNextState(state[Math.floor(Math.random() * 4)], ["b"]);
				state2.addNextState(state[Math.floor(Math.random() * 4)], ["a"]);
				state2.addNextState(state[Math.floor(Math.random() * 4)], ["b"]);
				state3.addNextState(state[Math.floor(Math.random() * 4)], ["b"]);
				state3.addNextState(state[Math.floor(Math.random() * 4)], ["a"]);
				state4.addNextState(state[Math.floor(Math.random() * 4)], ["b"]);
				state4.addNextState(state[Math.floor(Math.random() * 4)], ["a"]);
				jsav.forward();
		  	};
		  	
		  	var solve = function(exp){
		  		var curPos = 0;
				for (var i = 0; i < exp.length; i++){
					curPos = newPosition(curPos, exp.charAt(i));			
				}
				if(curPos == 0){
					return 'Left';
				} else if (curPos == 1){
					return 'Bottom';
				} else if (curPos == 2){
					return 'Top';
				} else{
					return 'Right';
				}
				return curPos;
		  	}
		  	
		  	var newPostion = function(pos, curChar){
		  		alert(pos);
		  		alert(curChar);
				if (curChar == 'a'){
					if(pos == 0)	{
						return 1;
					}else if(pos == 1){
						return 0;
					}else if(pos == 2){
						return 3;
					}else{
						return 2;
					}
				}else{
					if(pos == 0)	{
						return 2;
					}else if(pos == 1){
						return 3;
					}else if(pos == 2){
						return 0;
					}else{
						return 1;
					}			
				}	  	
		  	}
		  	
  	</script>
    <div class="exercise">
    	<div class="vars">
    		<var id="Expression">generateExp()</var>
    		<var id="Solution">solve(Expression)</var>    	
    	</div>
      <div class="problems">
        <div id="PreProblem3p">
          <p class="problem">Refer to the figure in Step 9.</p>
          <p class="question">Where does the following expression end? <var>Expression</var></p>
          <div class="jsav"></div>
          <div class="solution"><var>Solution</var></div>
          <ul class="choices" data-category="true">
            <li>Left</li>
            <li>Top</li>
            <li>Right</li>
            <li>Left</li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>